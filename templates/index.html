<!DOCTYPE html>
<meta charset="utf-8">

<html>

  <head>
    <title>HOSTS</title>
	<link rel="stylesheet" href="./static/src/bootstrap.min.css">
	<link rel="stylesheet" href="./static/src/bootstrap-table.css">
        <link rel="stylesheet" href="//rawgit.com/vitalets/x-editable/master/dist/bootstrap3-editable/css/bootstrap-editable.css">
	<script src="./static/src/jquery.min.js"></script>
	<script src="./static/src/bootstrap.min.js"></script>
	<script src="./static/src/bootstrap-table.js"></script>
        <script src="./static/src/bootstrap-table-editable.js"></script>
        <script src="//rawgit.com/vitalets/x-editable/master/dist/bootstrap3-editable/js/bootstrap-editable.js"></script>
<!-- Latest compiled and minified Locales <script src="index.js"></script><link rel="stylesheet" href="assets/index.css">-->
    <script src="./static/src/bootstrap-table-en-US.js"></script>
  </head>

  <body>
    <div class="container">
     <h1>Test Host System Info in Manual Test</h1>
    <div id="toolbar">
            <button id="button" class="btn btn-default">Update</button>
    </div>
     <table id="table"
            data-toolbar="#toolbar"
            data-toggle="table" 
     	    data-url="./data.json"
	    data-pagination="true"  
            data-show-refresh="true"  
            data-data-type="json"
            data-striped="true"
            data-search="true"
            data-sort-stable="true" 
            data-pagination="true" 
            data-page-number=1
            data-show-columns="true"
            data-show-footer="false"
            >
		    <thead>
			    <tr>  
                    <th id="name" data-type="text" contenteditable="true" data-field="host_name">Host Name</th>
				<th data-field="cards_name">Cards</th>
	    			<th data-field="num_cards">Num</th>
		    		<th data-field="driver">Driver</th>
			    	<th data-field="osenv" data-sortable="true">OS</th>
				<th data-field="ip">IP</th>
                                <th data-field="login">Login</th>
		                <th data-field="alive" data-sortable="true">Used</th>
				<th data-field="nowtime" data-visible="false">Time</th>
                                <th data-field="user" data-editable="true" data-sortable="true">User</th>
                                <th data-field="mac" data-visible="false">Mac</th>
                                <th data-field="desc" data-editable="true">Usage</th>
                                <th data-field="bmc"  >BMC</th>
                                <th data-field="bmclo" >BMC Login</th>
			    </tr>
		    </thead>
	    </table>
    </div>
<script>
    var $table = $('#table'),
        $button = $('#button');

    $(function () {
        
        function post() {
   		 var data = {
                data: JSON.stringify($table.bootstrapTable('getData'))
                }
                $.ajax({
                url:"/update",
                type: 'POST',
                 data: data,
                 success: function () {
                alert("Success")
               }
              })
             }       
        $button.click(function () {
            post()
        });
    });
</script>
  </body>
</html>
